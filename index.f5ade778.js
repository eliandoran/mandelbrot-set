!function(){var e={hsl_red:{title:"Red (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(0, 100%, ${100*t}%)`}},hsl_blue:{title:"Blue (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(200, 100%, ${100*t}%)`}},greyscale:{title:"Greyscale",getColorScheme:e=>t=>{let n=255*t;e.fillStyle=`rgb(${n}, ${n}, ${n})`}}};const t=document.getElementById("info-pane");function n(e,t,n){let o=t,i=n;for(let c=0;c<e;c++){const l=2*o*i+n;if(o=o*o-i*i+t,i=l,o*i>5)return c/e}return 0}!function(t){const n=t.canvasEl,o=document.getElementById("color-scheme"),i=document.getElementById("zoom-in"),c=document.getElementById("zoom-out"),l=document.getElementById("zoom-reset"),a=document.getElementById("selection"),s=document.getElementById("num-iterations-value"),d=document.getElementById("num-iterations-button"),r={numIterations:100,magnificationFactor:250,panX:2,panY:1.5,scheme:"hsl_blue"};function m(){setTimeout((()=>{t.draw(n,r)}),0)}!function(e,t,n){let o,i,c=!1,l=0,a=0,s=0,d=0;function r(){c&&(t.style.display="block",t.style.left=`${l}px`,t.style.top=`${a}px`,t.style.width=`${s}px`,t.style.height=`${d}px`)}e.addEventListener("mousedown",(e=>{const t=e.clientX,n=e.clientY;c=!0,l=t,a=n,s=0,d=0,r(),o=t,i=n})),e.addEventListener("mousemove",(e=>{if(!c)return;const t=e.clientX,n=e.clientY;t>=o?(l=o,s=t-o):(l=t,s=o-t),n>=i?(a=i,d=n-i):(a=n,d=i-n),r()})),e.addEventListener("mouseup",(e=>{t.style.display="none",c=!1,r(),n({x:l,y:a,width:s,height:d})}))}(n,a,(e=>{const t=r.magnificationFactor,n=(window.innerWidth,window.innerHeight,r.panY,e.x*t-r.panX),o=e.y*t-r.panY,i=e.width*t,c=(n+i)/n;console.log("Actual",n,o,i,c),r.panX-=e.x/t,r.panY-=e.y/t,r.magnificationFactor+=t*c,m(),console.log(e)})),function(){const t=r.scheme;o.innerHTML="";for(const n of Object.keys(e)){const i=document.createElement("option");i.innerText=e[n].title,i.value=n,i.selected=n===t,o.appendChild(i)}}(),s.value=r.numIterations,o.onchange=function(e){const t=e.target.value;r.scheme=t,m()},i.onclick=()=>{r.magnificationFactor+=50,r.panX+=0,r.panY+=0,m()},c.onclick=()=>{r.magnificationFactor-=50,r.panX-=.2,r.panY-=.2,m()},l.onclick=()=>{r.magnificationFactor=250,r.panX=2,r.panY=1.5,m()},d.onclick=e=>{const t=parseInt(s.value,10);t>0&&(r.numIterations=t,m())},m()}({canvasEl:document.getElementById("drawing"),draw:function(o,i){const c=window.innerWidth,l=window.innerHeight;o.width=c,o.height=l;const a=i.scheme,s=i.numIterations,d=o.getContext("2d"),r=e[a].getColorScheme(d);d.fillStyle="#00000",d.fillRect(0,0,c,l);const m=i.magnificationFactor,u=i.panX,f=i.panY;for(let e=0;e<l;e+=10)setTimeout((()=>{for(let t=e;t<e+10;t++)for(let e=0;e<c;e++){const o=n(s,e/m-u,t/m-f);r(o),d.fillRect(e,t,1,1)}}),0);const g=0/m-u,h=0/m-f,p=c/m-u,y=l/m-u,$=[`Viewport size: ${c}x${l}`,`Magnification factor: ${m.toFixed(2)}`,`Pan: (${u.toFixed(4)}, ${f.toFixed(4)})`,`Abs. coords: (${g.toFixed(4)} ${h.toFixed(4)}) (${p.toFixed(4)} ${y.toFixed(4)})`];t.innerHTML=$.join("<br/>")}})}();
//# sourceMappingURL=index.f5ade778.js.map
