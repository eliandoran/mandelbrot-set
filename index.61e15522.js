!function(){var e={hsl_red:{title:"Red (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(0, 90%, ${100*t}%)`}},hsl_green:{title:"Green (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(150, 90%, ${100*t}%)`}},hsl_cyan:{title:"Cyan (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(190, 90%, ${100*t}%)`}},hsl_blue:{title:"Blue (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(210, 90%, ${100*t}%)`}},hsl_purple:{title:"Purple (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(270, 90%, ${100*t}%)`}},hsl_magenta:{title:"Magenta (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(310, 90%, ${100*t}%)`}},greyscale:{title:"Greyscale",getColorScheme:e=>t=>{let n=255*t;e.fillStyle=`rgb(${n}, ${n}, ${n})`}}};function t(e,t,n){let o=t,i=n;for(let l=0;l<e;l++){const c=2*o*i+n;if(o=o*o-i*i+t,i=c,o*i>5)return l/e}return 0}!function(t){const n=t.canvasEl,o=document.getElementById("color-scheme"),i=document.getElementById("zoom-in"),l=document.getElementById("zoom-out"),c=document.getElementById("zoom-reset"),a=document.getElementById("selection"),r=document.getElementById("num-iterations-value"),s=document.getElementById("num-iterations-button"),d={numIterations:100,magnificationFactor:250,panX:2,panY:1.5,scheme:"hsl_blue",clear:!0};function u(){const e=d.numIterations;setTimeout((()=>{d.clear=!0,d.numIterations=50,t.draw(n,d,(()=>{d.numIterations=e,d.clear=!1,t.draw(n,d,(()=>{}))}))}),0)}!function(e,t,n){let o,i,l=!1,c=0,a=0,r=0,s=0;function d(){l&&(t.style.display="block",t.style.left=`${c}px`,t.style.top=`${a}px`,t.style.width=`${r}px`,t.style.height=`${s}px`)}function u(e){return e.clientX&&e.clientY?{x:e.clientX,y:e.clientY}:e.targetTouches&&e.targetTouches.length>0?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:null}function m(e){const{x:t,y:n}=u(e);l=!0,c=t,a=n,r=0,s=0,d(),o=t,i=n}function h(e){if(e.preventDefault(),!l)return;const{x:t,y:n}=u(e);t>=o?(c=o,r=t-o):(c=t,r=o-t),n>=i?(a=i,s=n-i):(a=n,s=i-n),d()}function f(e){t.style.display="none",l=!1,d(),r>=30&&s>=30&&n({x:c,y:a,width:r,height:s})}e.addEventListener("mousedown",m),e.addEventListener("mousemove",h),e.addEventListener("mouseup",f),e.addEventListener("touchstart",m),e.addEventListener("touchmove",h,{passive:!1}),e.addEventListener("touchend",f)}(n,a,(e=>{const t=d.magnificationFactor,n=(window.innerWidth,window.innerHeight,d.panY,e.x*t-d.panX),o=(e.y,d.panY,(n+e.width*t)/n);d.panX-=e.x/t,d.panY-=e.y/t,d.magnificationFactor+=t*o,u()})),function(){const t=d.scheme;o.innerHTML="";for(const n of Object.keys(e)){const i=document.createElement("option");i.innerText=e[n].title,i.value=n,i.selected=n===t,o.appendChild(i)}}(),r.value=d.numIterations,o.onchange=function(e){const t=e.target.value;d.scheme=t,u()},i.onclick=()=>{d.magnificationFactor+=50,d.panX+=0,d.panY+=0,u()},l.onclick=()=>{d.magnificationFactor-=50,d.panX-=.2,d.panY-=.2,u()},c.onclick=()=>{d.magnificationFactor=250,d.panX=2,d.panY=1.5,u()},s.onclick=e=>{const t=parseInt(r.value,10);t>0&&(d.numIterations=t,u())},u()}({canvasEl:document.getElementById("drawing"),draw:function(n,o,i){console.log("Draw");const l=document.getElementById("info-pane");n.className="loading";const c=window.innerWidth,a=window.innerHeight,r=o.scheme,s=o.numIterations,d=n.getContext("2d",{alpha:!1}),u=e[r].getColorScheme(d),m=Date.now();o.clear&&(n.width=c,n.height=a,d.fillStyle="#00000",d.fillRect(0,0,c,a));const h=o.magnificationFactor,f=o.panX,g=o.panY;function y(e){l.innerHTML=e.join("<br/>")}function p(e){y(["Rendering Mandelbrot Set...",`${Math.round(100*e)}%`])}function $(){const e=0/h-f,t=0/h-g,n=c/h-f,o=a/h-f,i=Date.now()-m;y([`Viewport size: ${c}x${a}`,`Magnification factor: ${h.toFixed(2)}`,`Pan: (${f.toFixed(4)}, ${g.toFixed(4)})`,`Abs. coords: (${e.toFixed(4)} ${t.toFixed(4)}) (${n.toFixed(4)} ${o.toFixed(4)})`,`Render time: ${i} ms`])}const S=10*(Math.floor(a/10)-1);let w=!1;for(let e=0;e<a;e+=10)setTimeout((()=>{for(let o=e;o<e+10;o++){for(let e=0;e<c;e++){const n=t(s,e/h-f,o/h-g);u(n),d.fillRect(e,o,1,1)}if(w)return;if(o>=S)n.className="",$(),i(),w=!0;else{p(e/a)}}}),0);p(0)}})}();
//# sourceMappingURL=index.61e15522.js.map
