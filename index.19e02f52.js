!function(){var e={hsl_red:{title:"Red (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(0, 100%, ${100*t}%)`}},hsl_blue:{title:"Blue (HSL)",getColorScheme:e=>t=>{e.fillStyle=`hsl(200, 100%, ${100*t}%)`}},greyscale:{title:"Greyscale",getColorScheme:e=>t=>{let n=255*t;e.fillStyle=`rgb(${n}, ${n}, ${n})`}}};function t(e,t,n){let o=t,i=n;for(let c=0;c<e;c++){const a=2*o*i+n;if(o=o*o-i*i+t,i=a,o*i>5)return c/e}return 0}!function(t){const n=t.canvasEl,o=document.getElementById("color-scheme"),i=document.getElementById("zoom-in"),c=document.getElementById("zoom-out"),a=document.getElementById("zoom-reset"),l=document.getElementById("selection"),s=document.getElementById("num-iterations-value"),r=document.getElementById("num-iterations-button"),d={numIterations:100,magnificationFactor:250,panX:2,panY:1.5,scheme:"hsl_blue"};function u(){setTimeout((()=>{t.draw(n,d)}),0)}!function(e,t,n){let o,i,c=!1,a=0,l=0,s=0,r=0;function d(){c&&(t.style.display="block",t.style.left=`${a}px`,t.style.top=`${l}px`,t.style.width=`${s}px`,t.style.height=`${r}px`)}function u(e){return e.clientX&&e.clientY?{x:e.clientX,y:e.clientY}:e.targetTouches&&e.targetTouches.length>0?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:null}function m(e){const{x:t,y:n}=u(e);c=!0,a=t,l=n,s=0,r=0,d(),o=t,i=n}function f(e){if(e.preventDefault(),!c)return;const{x:t,y:n}=u(e);t>=o?(a=o,s=t-o):(a=t,s=o-t),n>=i?(l=i,r=n-i):(l=n,r=i-n),d()}function h(e){t.style.display="none",c=!1,d(),s>=20&&r>=20&&n({x:a,y:l,width:s,height:r})}e.addEventListener("mousedown",m),e.addEventListener("mousemove",f),e.addEventListener("mouseup",h),e.addEventListener("touchstart",m),e.addEventListener("touchmove",f,{passive:!1}),e.addEventListener("touchend",h)}(n,l,(e=>{const t=d.magnificationFactor,n=(window.innerWidth,window.innerHeight,d.panY,e.x*t-d.panX),o=(e.y,d.panY,(n+e.width*t)/n);d.panX-=e.x/t,d.panY-=e.y/t,d.magnificationFactor+=t*o,u()})),function(){const t=d.scheme;o.innerHTML="";for(const n of Object.keys(e)){const i=document.createElement("option");i.innerText=e[n].title,i.value=n,i.selected=n===t,o.appendChild(i)}}(),s.value=d.numIterations,o.onchange=function(e){const t=e.target.value;d.scheme=t,u()},i.onclick=()=>{d.magnificationFactor+=50,d.panX+=0,d.panY+=0,u()},c.onclick=()=>{d.magnificationFactor-=50,d.panX-=.2,d.panY-=.2,u()},a.onclick=()=>{d.magnificationFactor=250,d.panX=2,d.panY=1.5,u()},r.onclick=e=>{const t=parseInt(s.value,10);t>0&&(d.numIterations=t,u())},u()}({canvasEl:document.getElementById("drawing"),draw:function(n,o){const i=document.getElementById("info-pane");n.className="loading";const c=window.innerWidth,a=window.innerHeight;n.width=c,n.height=a;const l=o.scheme,s=o.numIterations,r=n.getContext("2d",{alpha:!1}),d=e[l].getColorScheme(r),u=Date.now();r.fillStyle="#00000",r.fillRect(0,0,c,a);const m=o.magnificationFactor,f=o.panX,h=o.panY;function g(e){i.innerHTML=e.join("<br/>")}function p(e){g(["Rendering Mandelbrot Set...",`${Math.round(100*e)}%`])}function y(){const e=0/m-f,t=0/m-h,n=c/m-f,o=a/m-f,i=Date.now()-u;g([`Viewport size: ${c}x${a}`,`Magnification factor: ${m.toFixed(2)}`,`Pan: (${f.toFixed(4)}, ${h.toFixed(4)})`,`Abs. coords: (${e.toFixed(4)} ${t.toFixed(4)}) (${n.toFixed(4)} ${o.toFixed(4)})`,`Render time: ${i} ms`])}const x=10*(Math.floor(a/10)-1);for(let e=0;e<a;e+=10)setTimeout((()=>{for(let o=e;o<e+10;o++){for(let e=0;e<c;e++){const n=t(s,e/m-f,o/m-h);d(n),r.fillRect(e,o,1,1)}if(o>=x)n.className="",y();else{p(e/a)}}}),0);p(0)}})}();
//# sourceMappingURL=index.19e02f52.js.map
